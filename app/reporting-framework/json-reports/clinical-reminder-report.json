{                                                                                                                                                                                                                                                                                                                                                                                            
    "name": "clinical_reminder_report",                                                                                                                                                                                                                                                                                                                                                      
    "version": "1.0",                                                                                                                                                                                                                                                                                                                                                                        
    "tag": "clinical_reminder_report",                                                                                                                                                                                                                                                                                                                                                       
    "description": "Clinical Reminder Report",                                                                                                                                                                                                                                                                                                                                               
    "uses":[                                                                                                                                                                                                                                                                                                                                                                                 
        {                                                                                                                                                                                                                                                                                                                                                                                    
            "name":"flatLabsAndImagingDataSetbase",                                                                                                                                                                                                                                                                                                                                          
            "version":"1.0",                                                                                                                                                                                                                                                                                                                                                                 
            "type":"dataset_def"                                                                                                                                                                                                                                                                                                                                                             
        }                                                                                                                                                                                                                                                                                                                                                                                    
    ],                                                                                                                                                                                                                                                                                                                                                                                       
    "sources": [                                                                                                                                                                                                                                                                                                                                                                             
        {                                                                                                                                                                                                                                                                                                                                                                                    
            "table": "etl.flat_hiv_summary_v15b",                                                                                                                                                                                                                                                                                                                                            
            "alias": "t1"                                                                                                                                                                                                                                                                                                                                                                    
        },                                                                                                                                                                                                                                                                                                                                                                                   
        {                                                                                                                                                                                                                                                                                                                                                                                    
            "table": "etl.flat_labs_and_imaging",                                                                                                                                                                                                                                                                                                                                            
            "alias": "t2",                                                                                                                                                                                                                                                                                                                                                                   
            "join": {                                                                                                                                                                                                                                                                                                                                                                        
                "type": "left",                                                                                                                                                                                                                                                                                                                                                              
                "joinCondition": "date(t1.encounter_datetime) = date(t2.test_datetime)"                                                                                                                                                                                                                                                                                                      
            }                                                                                                                                                                                                                                                                                                                                                                                
        },                                                                                                                                                                                                                                                                                                                                                                                   
        {                                                                                                                                                                                                                                                                                                                                                                                    
            "table": "amrs.person",                                                                                                                                                                                                                                                                                                                                                          
            "alias": "t5",                                                                                                                                                                                                                                                                                                                                                                   
            "join": {                                                                                                                                                                                                                                                                                                                                                                        
                "type": "left",                                                                                                                                                                                                                                                                                                                                                              
                "joinCondition": "t5.person_id = t1.person_id"                                                                                                                                                                                                                                                                                                                               
            }                                                                                                                                                                                                                                                                                                                                                                                
        },                                                                                                                                                                                                                                                                                                                                                                                   
        {                                                                                                                                                                                                                                                                                                                                                                                    
            "table": "amrs.patient_program",                                                                                                                                                                                                                                                                                                                                                 
            "alias": "p",                                                                                                                                                                                                                                                                                                                                                                    
            "join": {                                                                                                                                                                                                                                                                                                                                                                        
                "type": "left",                                                                                                                                                                                                                                                                                                                                                              
                "joinCondition": "t1.person_id = p.patient_id AND p.program_id = 9 AND date_completed IS NULL"                                                                                                                                                                                                                                                                               
            }                                                                                                                                                                                                                                                                                                                                                                                
        },                                                                                                                                                                                                                                                                                                                                                                                   
        {                                                                                                                                                                                                                                                                                                                                                                                    
            "dataSet": "flatLabsAndImagingDataSetbase",                                                                                                                                                                                                                                                                                                                                      
            "alias": "t3",                                                                                                                                                                                                                                                                                                                                                                   
            "join": {                                                                                                                                                                                                                                                                                                                                                                        
              "type": "left",                                                                                                                                                                                                                                                                                                                                                                
              "joinCondition": "t3.person_uuid = t1.uuid"                                                                                                                                                                                                                                                                                                                                    
            }                                                                                                                                                                                                                                                                                                                                                                                
        },                                                                                                                                                                                                                                                                                                                                                                                   
        {                                                                                                                                                                                                                                                                                                                                                                                    
            "table": "amrs.relationship",                                                                                                                                                                                                                                                                                                                                                    
            "alias": "t6",                                                                                                                                                                                                                                                                                                                                                                   
            "join": {                                                                                                                                                                                                                                                                                                                                                                        
                "type": "left",                                                                                                                                                                                                                                                                                                                                                              
                "joinCondition": "t6.person_a = t1.person_id"                                                                                                                                                                                                                                                                                                                                
            }                                                                                                                                                                                                                                                                                                                                                                                
        },
        {
            "table": "amrs.patient_program",                                                                                                                                                                                                                                                                                                                                                    
            "alias": "t9",                                                                                                                                                                                                                                                                                                                                                                   
            "join": {                                                                                                                                                                                                                                                                                                                                                                        
                "type": "left",                                                                                                                                                                                                                                                                                                                                                              
                "joinCondition": "t1.person_id = t9.patient_id AND t9.program_id = 29 AND t9.date_completed IS NULL"                                                                                                                                                                                                                                                                                                                                
            }  
        },
        {
            "table": "amrs.patient_program",                                                                                                                                                                                                                                                                                                                                                    
            "alias": "t10",                                                                                                                                                                                                                                                                                                                                                                   
            "join": {                                                                                                                                                                                                                                                                                                                                                                        
                "type": "left",                                                                                                                                                                                                                                                                                                                                                              
                "joinCondition": "t1.person_id = t10.patient_id AND t10.program_id = 4 AND t10.date_completed IS NULL"                                                                                                                                                                                                                                                                                                                                
            }  
        },
        {                                                                                                                                                                                                                                                                                                                                                                                    
            "table": "amrs.patient_program",                                                                                                                                                                                                                                                                                                                                                    
            "alias": "t7",                                                                                                                                                                                                                                                                                                                                                                   
            "join": {                                                                                                                                                                                                                                                                                                                                                                        
                "type": "left",                                                                                                                                                                                                                                                                                                                                                              
                "joinCondition": "t1.person_id = t7.patient_id AND t7.program_id = 27 AND t7.date_completed IS NULL"                                                                                                                                                                                                                                                                                                                                
            }                                                                                                                                                                                                                                                                                                                                                                                
        }                                                                                                                                                                                                                                                                                                                                                                          
    ],                                                                                                                                                                                                                                                                                                                                                                                       
    "columns": [                                                                                                                                                                                                                                                                                                                                                                             
        {                                                                                                                                                                                                                                                                                                                                                                                    
            "type": "derived_column",                                                                                                                                                                                                                                                                                                                                                        
            "alias": "needs_vl_coded",                                                                                                                                                                                                                                                                                                                                                       
            "expressionType": "simple_expression",                                                                                                                                                                                                                                                                                                                                           
            "expressionOptions": {                                                                                                                                                                                                                                                                                                                                                           
                "expression":"case when (cur_arv_meds is null) then 0 when (timestampdiff(month,vl_1_date, date('{referenceDate}')) > 3) and vl_1 > 1000 and arv_start_date < vl_1_date then 1 when (timestampdiff(month,arv_start_date,date('{referenceDate}')) between 6 and 12) and (vl_1_date is null or vl_1_date < arv_start_date ) then 2 when (timestampdiff(month,arv_start_date,'{referenceDate}') > 12) and (vl_1_date is null or timestampdiff(month,vl_1_date,'{referenceDate}') > 12) then 3 when (timestampdiff(month,arv_start_date,date('{referenceDate}')) between 0 and 3) and (vl_1_date is null or vl_1_date < arv_start_date ) then 4 else 0 end"                                                                                                                
            }                                                                                                                                                                                                                                                                                                                                                                                
        },                                                                                                                                                                                                                                                                                                                                                                                   
        {                                                                                                                                                                                                                                                                                                                                                                                    
            "type": "derived_column",                                                                                                                                                                                                                                                                                                                                                        
            "alias": "overdue_vl_lab_order",                                                                                                                                                                                                                                                                                                                                                 
            "expressionType": "simple_expression",                                                                                                                                                                                                                                                                                                                                           
            "expressionOptions": {                                                                                                                                                                                                                                                                                                                                                           
                "expression":"case when (timestampdiff(day,vl_order_date, '{referenceDate}') >= 14) and (vl_1_date is null or vl_order_date > vl_1_date) and vl_error <> 1 then timestampdiff(day,vl_order_date, '{referenceDate}') else 0 end"                                                                                                                                              
            }                                                                                                                                                                                                                                                                                                                                                                                
        },                                                                                                                                                                                                                                                                                                                                                                                   
        {                                                                                                                                                                                                                                                                                                                                                                                    
            "type": "derived_column",                                                                                                                                                                                                                                                                                                                                                        
            "alias": "new_viral_load_present",                                                                                                                                                                                                                                                                                                                                               
            "expressionType": "simple_expression",                                                                                                                                                                                                                                                                                                                                           
            "expressionOptions": {                                                                                                                                                                                                                                                                                                                                                           
                "expression":"DATE_ADD(vl_1_date, INTERVAL 90 DAY) > NOW()"                                                                                                                                                                                                                                                                                                                  
            }                                                                                                                                                                                                                                                                                                                                                                                
        },                                                                                                                                                                                                                                                                                                                                                                                   
        {                                                                                                                                                                                                                                                                                                                                                                                    
            "type": "derived_column",                                                                                                                                                                                                                                                                                                                                                        
            "alias": "needs_cd4_count_coded",                                                                                                                                                                                                                                                                                                                                                
            "expressionType": "simple_expression",                                                                                                                                                                                                                                                                                                                                           
            "expressionOptions": {                                                                                                                                                                                                                                                                                                                                                           
                "expression":"case when cur_arv_meds is not null and vl_1 > 1000 and timestampdiff(day,cd4_1_date, '{referenceDate}') >= 90 then 1 when timestampdiff(month,arv_start_date, '{referenceDate}') <= 12 and (cd4_1_date is null or timestampdiff(month,cd4_1_date, '{referenceDate}') > 6) then 2 when timestampdiff(month,arv_start_date, '{referenceDate}') > 12 and (cd4_1_date is null or timestampdiff(month,cd4_1_date, '{referenceDate}') > 12) then 3 else 0 end"                                                                                                                                                                                                                                                                                           
            }                                                                                                                                                                                                                                                                                                                                                                                
        },
        {                                                                                                                                                                                                                                                                                                                                                                                    
            "type": "derived_column",                                                                                                                                                                                                                                                                                                                                                        
            "alias": "months_since_last_vl_date",                                                                                                                                                                                                                                                                                                                                            
            "expressionType": "simple_expression",                                                                                                                                                                                                                                                                                                                                           
            "expressionOptions": {                                                                                                                                                                                                                                                                                                                                                           
                "expression":"timestampdiff(month,vl_1_date, '{referenceDate}')"                                                                                                                                                                                                                                                                                                             
            }                                                                                                                                                                                                                                                                                                                                                                                
        },                                                                                                                                                                                                                                                                                                                                                                                   
        {                                                                                                                                                                                                                                                                                                                                                                                    
            "type": "derived_column",                                                                                                                                                                                                                                                                                                                                                        
            "alias": "overdue_cd4_count_lab_order",                                                                                                                                                                                                                                                                                                                                          
            "expressionType": "simple_expression",                                                                                                                                                                                                                                                                                                                                           
            "expressionOptions": {                                                                                                                                                                                                                                                                                                                                                           
                "expression":"case when timestampdiff(day,cd4_order_date, '{referenceDate}') > 30 and cd4_1_date is null or cd4_order_date > cd4_1_date then timestampdiff(day,cd4_order_date, '{referenceDate}') else 0 end "                                                                                                                                                               
            }                                                                                                                                                                                                                                                                                                                                                                                
        },                                                                                                                                                                                                                                                                                                                                                                                   
        {                                                                                                                                                                                                                                                                                                                                                                                    
            "type": "derived_column",                                                                                                                                                                                                                                                                                                                                                        
            "alias": "is_on_inh_treatment",                                                                                                                                                                                                                                                                                                                                                  
            "expressionType": "simple_expression",                                                                                                                                                                                                                                                                                                                                           
            "expressionOptions": {                                                                                                                                                                                                                                                                                                                                                           
                "expression":"ipt_start_date is not null "                                                                                                                                                                                                                                                                                                                                   
            }                                                                                                                                                                                                                                                                                                                                                                                
        },                                                                                                                                                                                                                                                                                                                                                                                   
        {                                                                                                                                                                                                                                                                                                                                                                                    
            "type": "derived_column",                                                                                                                                                                                                                                                                                                                                                        
            "alias": "qualifies_differenciated_care",                                                                                                                                                                                                                                                                                                                                        
            "expressionType": "simple_expression",                                                                                                                                                                                                                                                                                                                                           
            "expressionOptions": {                                                                                                                                                                                                                                                                                                                                                           
                "expression": "case when vl_1 = 0 and (timestampdiff(year,birthdate, date('{referenceDate}')) >= 20) and (timestampdiff(month,ipt_start_date,if(ipt_completion_date,ipt_completion_date,'{referenceDate}')) >= 6 ) and (timestampdiff(month,vl_1_date,now()) <= 11 ) and (timestampdiff(month,arv_start_date, '{referenceDate}') >= 12) AND p.program_id IS NULL and t10.program_id is null and DATE(t1.prev_rtc_date) = DATE(t1.encounter_datetime) then 1 else 0 end"                                                                                                                                                                                                                                                                                                                                                                                
            }                                                                                                                                                                                                                                                                                                                                                                                
        },                                                                                                                                                                                                                                                                                                                                                                                   
        {                                                                                                                                                                                                                                                                                                                                                                                    
            "type": "simple_column",                                                                                                                                                                                                                                                                                                                                                         
            "alias":"last_encounter_date",                                                                                                                                                                                                                                                                                                                                                   
            "column":"t1.encounter_datetime"                                                                                                                                                                                                                                                                                                                                                 
        },                                                                                                                                                                                                                                                                                                                                                                                   
        {                                                                                                                                                                                                                                                                                                                                                                                    
            "type": "simple_column",                                                                                                                                                                                                                                                                                                                                                         
            "alias":"birth_date",                                                                                                                                                                                                                                                                                                                                                            
            "column":"t5.birthdate"                                                                                                                                                                                                                                                                                                                                                          
        },                                                                                                                                                                                                                                                                                                                                                                                   
        {                                                                                                                                                                                                                                                                                                                                                                                    
            "type": "simple_column",                                                                                                                                                                                                                                                                                                                                                         
            "alias":"person_id",                                                                                                                                                                                                                                                                                                                                                             
            "column":"t1.person_id"                                                                                                                                                                                                                                                                                                                                                          
        },                                                                                                                                                                                                                                                                                                                                                                                   
        {                                                                                                                                                                                                                                                                                                                                                                                    
            "type": "simple_column",                                                                                                                                                                                                                                                                                                                                                         
            "alias":"person_uuid",                                                                                                                                                                                                                                                                                                                                                           
            "column":"t1.uuid"                                                                                                                                                                                                                                                                                                                                                               
        },                                                                                                                                                                                                                                                                                                                                                                                   
        {                                                                                                                                                                                                                                                                                                                                                                                    
            "type": "simple_column",                                                                                                                                                                                                                                                                                                                                                         
            "alias":"arv_start_date",                                                                                                                                                                                                                                                                                                                                                        
            "column":"t1.arv_start_date"                                                                                                                                                                                                                                                                                                                                                     
         },                                                                                                                                                                                                                                                                                                                                                                                  
         {                                                                                                                                                                                                                                                                                                                                                                                   
            "type": "simple_column",                                                                                                                                                                                                                                                                                                                                                         
            "alias":"cur_arv_meds",                                                                                                                                                                                                                                                                                                                                                          
            "column":"t1.cur_arv_meds"                                                                                                                                                                                                                                                                                                                                                       
        },                                                                                                                                                                                                                                                                                                                                                                                   
        {                                                                                                                                                                                                                                                                                                                                                                                    
            "type": "simple_column",                                                                                                                                                                                                                                                                                                                                                         
            "alias":"viral_load",                                                                                                                                                                                                                                                                                                                                                            
            "column":"t1.vl_1"                                                                                                                                                                                                                                                                                                                                                               
        },                                                                                                                                                                                                                                                                                                                                                                                   
        {                                                                                                                                                                                                                                                                                                                                                                                    
            "type": "simple_column",                                                                                                                                                                                                                                                                                                                                                         
            "alias":"vl_order_date",                                                                                                                                                                                                                                                                                                                                                         
            "column":"t1.vl_order_date"                                                                                                                                                                                                                                                                                                                                                      
        },                                                                                                                                                                                                                                                                                                                                                                                   
        {                                                                                                                                                                                                                                                                                                                                                                                    
            "type": "simple_column",                                                                                                                                                                                                                                                                                                                                                         
            "alias":"last_vl_date",                                                                                                                                                                                                                                                                                                                                                          
            "column":"t1.vl_1_date"                                                                                                                                                                                                                                                                                                                                                          
        },                                                                                                                                                                                                                                                                                                                                                                                   
        {                                                                                                                                                                                                                                                                                                                                                                                    
            "type": "simple_column",                                                                                                                                                                                                                                                                                                                                                         
            "alias":"vl_error",                                                                                                                                                                                                                                                                                                                                                              
            "column":"t2.vl_error"                                                                                                                                                                                                                                                                                                                                                           
        },                                                                                                                                                                                                                                                                                                                                                                                   
        {                                                                                                                                                                                                                                                                                                                                                                                    
            "type": "simple_column",                                                                                                                                                                                                                                                                                                                                                         
            "alias":"vl_error_date",                                                                                                                                                                                                                                                                                                                                                         
            "column":"t2.test_datetime"                                                                                                                                                                                                                                                                                                                                                      
        },
        {                                                                                                                                                                                                                                                                                                                                                                                    
            "type": "simple_column",                                                                                                                                                                                                                                                                                                                                                         
            "alias":"ordered_vl_has_error",                                                                                                                                                                                                                                                                                                                                                  
            "column":"t3.ordered_vl_has_error"                                                                                                                                                                                                                                                                                                                                               
        },                                                                                                                                                                                                                                                                                                                                                                                   
        {                                                                                                                                                                                                                                                                                                                                                                                    
            "type": "simple_column",                                                                                                                                                                                                                                                                                                                                                         
            "alias":"vl_error_order_date",                                                                                                                                                                                                                                                                                                                                                   
            "column":"t3.vl_error_order_date"                                                                                                                                                                                                                                                                                                                                                
        },                                                                                                                                                                                                                                                                                                                                                                                   
        {                                                                                                                                                                                                                                                                                                                                                                                    
            "type": "derived_column",                                                                                                                                                                                                                                                                                                                                                        
            "alias": "ipt_completion_date",                                                                                                                                                                                                                                                                                                                                                  
            "expressionType": "simple_expression",                                                                                                                                                                                                                                                                                                                                           
            "expressionOptions": {                                                                                                                                                                                                                                                                                                                                                           
                "expression": "DATE_ADD(t1.ipt_start_date, INTERVAL 180 DAY)"                                                                                                                                                                                                                                                                                                                
            }                                                                                                                                                                                                                                                                                                                                                                                
        },                                                                                                                                                                                                                                                                                                                                                                                   
        {                                                                                                                                                                                                                                                                                                                                                                                    
          "type": "simple_column",                                                                                                                                                                                                                                                                                                                                                           
          "alias":"ipt_start_date",                                                                                                                                                                                                                                                                                                                                                          
          "column":"t1.ipt_start_date"                                                                                                                                                                                                                                                                                                                                                       
        },                                                                                                                                                                                                                                                                                                                                                                                   
        {                                                                                                                                                                                                                                                                                                                                                                                    
            "type": "derived_column",                                                                                                                                                                                                                                                                                                                                                        
            "alias": "inh_treatment_days_remaining",                                                                                                                                                                                                                                                                                                                                         
            "expressionType": "simple_expression",                                                                                                                                                                                                                                                                                                                                           
            "expressionOptions": {                                                                                                                                                                                                                                                                                                                                                           
                "expression": "DATEDIFF(DATE_ADD(t1.ipt_start_date, INTERVAL 180 DAY), now())"                                                                                                                                                                                                                                                                                               
            }                                                                                                                                                                                                                                                                                                                                                                                
        },                                                                                                                                                                                                                                                                                                                                                                                   
        {                                                                                                                                                                                                                                                                                                                                                                                    
            "type": "derived_column",                                                                                                                                                                                                                                                                                                                                                        
            "alias": "is_pregnant",                                                                                                                                                                                                                                                                                                                                                          
            "expressionType": "simple_expression",                                                                                                                                                                                                                                                                                                                                           
            "expressionOptions": {                                                                                                                                                                                                                                                                                                                                                           
                "expression":"case when t1.is_pregnant = 1 then 1 else 0 end"                                                                                                                                                                                                                                                                                                                
            }                                                                                                                                                                                                                                                                                                                                                                                
        },                                                                                                                                                                                                                                                                                                                                                                                   
        {                                                                                                                                                                                                                                                                                                                                                                                    
            "type": "derived_column",                                                                                                                                                                                                                                                                                                                                                        
            "alias": "is_postnatal",                                                                                                                                                                                                                                                                                                                                                         
            "expressionType": "simple_expression",                                                                                                                                                                                                                                                                                                                                           
            "expressionOptions": {                                                                                                                                                                                                                                                                                                                                                           
                "expression":"case when t6.relationship = 2 and timestampdiff(month,t6.date_created, '{referenceDate}') between 0 and 24 then 1 else 0 end"                                                                                                                                                                                                                                  
            }                                                                                                                                                                                                                                                                                                                                                                                
        },                                                                                                                                                                                                                                                                                                                                                                                   
        {                                                                                                                                                                                                                                                                                                                                                                                    
            "type": "derived_column",                                                                                                                                                                                                                                                                                                                                                        
            "alias": "is_infant",                                                                                                                                                                                                                                                                                                                                                            
            "expressionType": "simple_expression",                                                                                                                                                                                                                                                                                                                                           
            "expressionOptions": {                                                                                                                                                                                                                                                                                                                                                           
                "expression":"case when timestampdiff(month,t5.birthdate, '{referenceDate}') between 0 and 24 then 1 else 0 end"                                                                                                                                                                                                                                                             
            }                                                                                                                                                                                                                                                                                                                                                                                
        },                                                                                                                                                                                                                                                                                                                                                                                   
        {                                                                                                                                                                                                                                                                                                                                                                                    
            "type": "derived_column",                                                                                                                                                                                                                                                                                                                                                        
            "alias": "dna_pcr_reminder",                                                                                                                                                                                                                                                                                                                                                     
            "expressionType": "simple_expression",                                                                                                                                                                                                                                                                                                                                           
            "expressionOptions": {                                                                                                                                                                                                                                                                                                                                                           
                "expression":"case when t9.program_id is not null and timestampdiff(month,t5.birthdate, '{referenceDate}') between 0 and 2 then 1 when t9.program_id is not null and timestampdiff(month,t5.birthdate, '{referenceDate}') = 6 then 2 when t9.program_id is not null and timestampdiff(month,t5.birthdate, '{referenceDate}') = 12 then 3 when t9.program_id is not null and timestampdiff(month,t5.birthdate, '{referenceDate}') between 18 and 24 then 4 else 0 end"                                
            }                                                                                                                                                                                                                                                                                                                                                                                
        },
        {                                                                                                                                                                                                                                                                                                                                                                                    
            "type": "derived_column",                                                                                                                                                                                                                                                                                                                                                        
            "alias": "qualifies_enhanced",                                                                                                                                                                                                                                                                                                                                                            
            "expressionType": "simple_expression",                                                                                                                                                                                                                                                                                                                                           
            "expressionOptions": {                                                                                                                                                                                                                                                                                                                                                           
                "expression":"case when vl_1 >= 1 and (t7.program_id is null) then 1 when (vl_1 < 1) and (t7.program_id is not null) then 2 when (t7.program_id is not null and t7.date_completed is null) and timestampdiff(month,vl_1_date, '{referenceDate}') >= 3 then 3 else 0 end"                                                                                                                                                                                                                                                             
            }                                                                                                                                                                                                                                                                                                                                                                                
        }                                                                                                                                                                                                                                                                                                                                                                                   
    ],                                                                                                                                                                                                                                                                                                                                                                                       
    "indexDirectives": [                                                                                                                                                                                                                                                                                                                                                                     
      {                                                                                                                                                                                                                                                                                                                                                                                      
        "type": "force",                                                                                                                                                                                                                                                                                                                                                                     
        "indexList": ["person_uuid"]                                                                                                                                                                                                                                                                                                                                                         
      }],                                                                                                                                                                                                                                                                                                                                                                                    
    "filters": {                                                                                                                                                                                                                                                                                                                                                                             
        "conditionJoinOperator": "and",                                                                                                                                                                                                                                                                                                                                                      
        "conditions": [                                                                                                                                                                                                                                                                                                                                                                      
            {                                                                                                                                                                                                                                                                                                                                                                                
                "filterType": "tableColumns",                                                                                                                                                                                                                                                                                                                                                
                "conditionExpression": "t1.uuid = ?",                                                                                                                                                                                                                                                                                                                                        
                "parameterName": "patientUuid"                                                                                                                                                                                                                                                                                                                                               
            },                                                                                                                                                                                                                                                                                                                                                                               
            {                                                                                                                                                                                                                                                                                                                                                                                
                "filterType": "tableColumns",                                                                                                                                                                                                                                                                                                                                                
                "conditionExpression": "t1.encounter_datetime < ?",                                                                                                                                                                                                                                                                                                                          
                "parameterName": "referenceDate"                                                                                                                                                                                                                                                                                                                                             
            }                                                                                                                                                                                                                                                                                                                                                                                
        ]                                                                                                                                                                                                                                                                                                                                                                                    
    },
    "orderBy": {                                                                                                                                                                                                                                                                                                                                                                             
        "orderByParam": "orderByParam",                                                                                                                                                                                                                                                                                                                                                      
        "columns": [                                                                                                                                                                                                                                                                                                                                                                         
            {                                                                                                                                                                                                                                                                                                                                                                                
                "column": "t1.encounter_datetime",                                                                                                                                                                                                                                                                                                                                           
                "order": "desc"                                                                                                                                                                                                                                                                                                                                                              
            }                                                                                                                                                                                                                                                                                                                                                                                
        ]                                                                                                                                                                                                                                                                                                                                                                                    
   },                                                                                                                                                                                                                                                                                                                                                                                        
   "paging":  {                                                                                                                                                                                                                                                                                                                                                                              
    "offSetParam":"offSetParam",                                                                                                                                                                                                                                                                                                                                                             
    "limitParam": "limitParam"                                                                                                                                                                                                                                                                                                                                                               
  }                                                                                                                                                                                                                                                                                                                                                                                          
}

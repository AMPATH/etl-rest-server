{
  "name": "cervicalCancerMonthlyReportAggregate",
  "version": "1.0",
  "tag": "",
  "description": "",
  "uses": [
    {
      "name": "cervicalCancerMonthlyReportBase",
      "version": "1.0",
      "type": "dataset_def"
    }
  ],
  "sources": [
    {
      "dataSet": "cervicalCancerMonthlyReportBase",
      "alias": "t1"
    }
  ],
  "columns": [
    {
      "type": "simple_column",
      "alias": "location_id",
      "column": "t1.location_id"
    },
    {
      "type": "simple_column",
      "alias": "location_name",
      "column": "location_name"
    },
    {
      "type": "simple_column",
      "alias": "location_uuid",
      "column": "location_uuid"
    },
    {
      "type": "derived_column",
      "alias": "encounter_datetime",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "date_format(t1.encounter_datetime,'%m-%Y')"
      }
    },
    {
      "type": "derived_column",
      "alias": "clients_screened",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(person_id)"
      }
    },
    {
      "type": "derived_column",
      "alias": "negative_via_or_via_vili_below_25",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(negative_via_or_via_vili_below_25)"
      }
    },
    {
      "type": "derived_column",
      "alias": "negative_via_or_via_vili_25_to_49",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(negative_via_or_via_vili_25_to_49)"
      }
    },
    {
      "type": "derived_column",
      "alias": "negative_via_or_via_vili_50_and_above",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(negative_via_or_via_vili_50_and_above)"
      }
    },
    {
      "type": "derived_column",
      "alias": "positive_via_or_via_vili_below_25",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(positive_via_or_via_vili_below_25)"
      }
    },
    {
      "type": "derived_column",
      "alias": "positive_via_or_via_vili_25_to_49",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(positive_via_or_via_vili_25_to_49)"
      }
    },
    {
      "type": "derived_column",
      "alias": "positive_via_or_via_vili_50_and_above",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(positive_via_or_via_vili_50_and_above)"
      }
    },
    {
      "type": "derived_column",
      "alias": "suspicious_via_or_via_vili_below_25",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(suspicious_via_or_via_vili_below_25)"
      }
    },
    {
      "type": "derived_column",
      "alias": "suspicious_via_or_via_vili_25_to_49",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(suspicious_via_or_via_vili_25_to_49)"
      }
    },
    {
      "type": "derived_column",
      "alias": "suspicious_via_or_via_vili_50_and_above",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(suspicious_via_or_via_vili_50_and_above)"
      }
    },
    {
      "type": "derived_column",
      "alias": "total_via_or_via_vili_screened",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(total_via_or_via_vili_tests)"
      }
    },
    {
      "type": "derived_column",
      "alias": "normal_cytology_below_25",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(normal_cytology_50_and_above)"
      }
    },
    {
      "type": "derived_column",
      "alias": "normal_cytology_25_to_49",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(normal_cytology_25_to_49)"
      }
    },
    {
      "type": "derived_column",
      "alias": "normal_cytology_50_and_above",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(normal_cytology_50_and_above)"
      }
    },
    {
      "type": "derived_column",
      "alias": "positive_cytology_below_25",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(positive_cytology_below_25)"
      }
    },
    {
      "type": "derived_column",
      "alias": "positive_cytology_25_to_49",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(positive_cytology_25_to_49)"
      }
    },
    {
      "type": "derived_column",
      "alias": "positive_cytology_50_and_above",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(positive_cytology_50_and_above)"
      }
    },
    {
      "type": "derived_column",
      "alias": "pre-invasive_cancer_under_25",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(pre_invasive_cancer_under_25)"
      }
    },
    {
      "type": "derived_column",
      "alias": "pre-invasive_cancer_25_to_49",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(pre_invasive_cancer_25_to_49)"
      }
    },
    {
      "type": "derived_column",
      "alias": "pre-invasive_cancer_50_and_above",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(pre_invasive_cancer_50_and_above)"
      }
    },
    {
      "type": "derived_column",
      "alias": "invasive_cancer_below_25",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(invasive_cancer_below_25)"
      }
    },
    {
      "type": "derived_column",
      "alias": "invasive_cancer_25_to_49",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(invasive_cancer_25_to_49)"
      }
    },
    {
      "type": "derived_column",
      "alias": "invasive_cancer_50_and_above",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(invasive_cancer_50_and_above)"
      }
    },
    {
      "type": "derived_column",
      "alias": "total_pap_smear_screened",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(total_pap_smear_tests)"
      }
    },
    {
      "type": "derived_column",
      "alias": "hpv_positive_below_25",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(positive_hpv_below_25)"
      }
    },
    {
      "type": "derived_column",
      "alias": "hpv_positive_25_to_49",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(positive_hpv_25_to_49)"
      }
    },
    {
      "type": "derived_column",
      "alias": "hpv_positive_50_and_above",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(positive_hpv_50_and_above)"
      }
    },
    {
      "type": "derived_column",
      "alias": "hpv_negative_below_25",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(negative_hpv_below_25)"
      }
    },
    {
      "type": "derived_column",
      "alias": "hpv_negative_25_to_49",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(negative_hpv_25_to_49)"
      }
    },
    {
      "type": "derived_column",
      "alias": "hpv_negative_50_and_above",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(negative_hpv_50_and_above)"
      }
    },
    {
      "type": "derived_column",
      "alias": "total_hpv_screened",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(total_hpv_tests)"
      }
    },
    {
      "type": "derived_column",
      "alias": "hiv_status",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(person_id)"
      }
    },
    {
      "type": "derived_column",
      "alias": "total_hiv_negative",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(hiv_negative)"
      }
    },
    {
      "type": "derived_column",
      "alias": "total_hiv_status_unknown",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(hiv_status_unknown)"
      }
    },
    {
      "type": "derived_column",
      "alias": "total_hiv_positive",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(hiv_positive)"
      }
    },
    {
      "type": "derived_column",
      "alias": "hiv_positive_below_25",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(hiv_positive_below_25)"
      }
    },
    {
      "type": "derived_column",
      "alias": "hiv_negative_below_25",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(hiv_negative_below_25)"
      }
    },
    {
      "type": "derived_column",
      "alias": "hiv_unknown_below_25",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(hiv_unknown_below_25)"
      }
    },
    {
      "type": "derived_column",
      "alias": "hiv_positive_25_to_49",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(hiv_positive_25_to_49)"
      }
    },
    {
      "type": "derived_column",
      "alias": "hiv_negative_25_to_49",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(hiv_negative_25_to_49)"
      }
    },
    {
      "type": "derived_column",
      "alias": "hiv_unknown_25_to_49",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(hiv_unknown_25_to_49)"
      }
    },
    {
      "type": "derived_column",
      "alias": "hiv_positive_50_and_above",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(hiv_positive_50_and_above)"
      }
    },
    {
      "type": "derived_column",
      "alias": "hiv_negative_50_and_above",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(hiv_negative_50_and_above)"
      }
    },
    {
      "type": "derived_column",
      "alias": "hiv_unknown_50_and_above",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(hiv_unknown_50_and_above)"
      }
    },
    {
      "type": "derived_column",
      "alias": "total_hiv_positive_clients_with_positive_findings",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(total_hiv_positive_clients_with_positive_findings)"
      }
    },
    {
      "type": "derived_column",
      "alias": "hiv_positive_clients_with_positive_findings_under_25",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(hiv_positive_clients_with_positive_findings_under_25)"
      }
    },
    {
      "type": "derived_column",
      "alias": "hiv_positive_clients_with_positive_findings_25_to_49",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(hiv_positive_clients_with_positive_findings_25_to_49)"
      }
    },
    {
      "type": "derived_column",
      "alias": "hiv_positive_clients_with_positive_findings_50_and_above",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(hiv_positive_clients_with_positive_findings_50_and_above)"
      }
    },
    {
      "type": "derived_column",
      "alias": "endometrial_biopsies",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(endometrial_biopsies_done)"
      }
    },
    {
      "type": "derived_column",
      "alias": "polypectomies",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(polypectomies_done)"
      }
    },
    {
      "type": "derived_column",
      "alias": "punch_biopsies",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(punch_biopsies_done)"
      }
    },
    {
      "type": "derived_column",
      "alias": "total_procedures_done",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(total_procedures_done)"
      }
    },
    {
      "type": "derived_column",
      "alias": "total_treated_using_cryotherapy",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(total_treated_via_cryo)"
      }
    },
    {
      "type": "derived_column",
      "alias": "treated_using_cryo_under_25",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(treated_via_cryo_under_25)"
      }
    },
    {
      "type": "derived_column",
      "alias": "treated_using_cryo_25_to_49",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(treated_via_cryo_25_to_49)"
      }
    },
    {
      "type": "derived_column",
      "alias": "treated_using_cryo_50_and_above",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(treated_via_cryo_50_and_above)"
      }
    },
    {
      "type": "derived_column",
      "alias": "total_treated_using_leep",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(total_treated_via_leep)"
      }
    },
    {
      "type": "derived_column",
      "alias": "treated_using_leep_under_25",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(treated_via_leep_under_25)"
      }
    },
    {
      "type": "derived_column",
      "alias": "treated_using_leep_25_to_49",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(treated_via_leep_25_to_49)"
      }
    },
    {
      "type": "derived_column",
      "alias": "treated_using_leep_50_and_above",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(treated_via_leep_50_and_above)"
      }
    },
    {
      "type": "derived_column",
      "alias": "total_treated_using_thermocoagulation",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(total_treated_via_thermo)"
      }
    },
    {
      "type": "derived_column",
      "alias": "treated_using_thermo_under_25",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(treated_via_thermo_under_25)"
      }
    },
    {
      "type": "derived_column",
      "alias": "treated_using_thermo_25_to_49",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(treated_via_thermo_25_to_49)"
      }
    },
    {
      "type": "derived_column",
      "alias": "treated_using_thermo_50_and_above",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(treated_via_thermo_50_and_above)"
      }
    },
    {
      "type": "derived_column",
      "alias": "total_treated_using_other_treatment_options",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(total_treated_using_other_treatment_options)"
      }
    },
    {
      "type": "derived_column",
      "alias": "treated_using_other_treatment_options_under_25",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(treated_using_other_treatment_options_under_25)"
      }
    },
    {
      "type": "derived_column",
      "alias": "treated_using_other_treatment_options_25_to_49",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(treated_using_other_treatment_options_25_to_49)"
      }
    },
    {
      "type": "derived_column",
      "alias": "treated_using_other_treatment_options_50_and_above",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(treated_using_other_treatment_options_50_and_above)"
      }
    },
    {
      "type": "derived_column",
      "alias": "initial_screening_visits",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(initial_screenings)"
      }
    },
    {
      "type": "derived_column",
      "alias": "routine_screening_visits",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(routine_screenings)"
      }
    },
    {
      "type": "derived_column",
      "alias": "post_treatment_screening_visits",
      "expressionType": "simple_expression",
      "expressionOptions": {
        "expression": "count(post_treatment_screenings)"
      }
    }
  ],
  "groupBy": {
    "groupParam": "groupByParam",
    "columns": [
      "location_id",
      "year(encounter_datetime)",
      "month(encounter_datetime)"
    ],
    "excludeParam": "excludeParam"
  },
  "dynamicJsonQueryGenerationDirectives": {
    "patientListGenerator": {
      "useTemplate": "patient-list-template",
      "useTemplateVersion": "1.0",
      "generatingDirectives": {
        "joinDirectives": {
          "joinType": "INNER",
          "joinCondition": "<<base_column>> = <<template_column>>",
          "baseColumn": "person_id",
          "templateColumn": "person_id"
        }
      }
    }
  }
}
